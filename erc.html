<!DOCTYPE html>
<html>

<head>
    <title>航路图</title>
    <meta http-equiv="imagetoolbar" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="https://cdn.bootcdn.net/ajax/libs/leaflet/1.6.0/leaflet.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/leaflet/1.6.0/leaflet.js"></script>
    <style>
        .leaflet-container .leaflet-control-mouseposition {
            background-color: rgba(255, 255, 255, 0.7);
            box-shadow: 0 0 5px #bbb;
            padding: 0 5px;
            margin: 0;
            color: #333;
            font: 11px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
        }

        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #ffffff;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;

        }
    </style>
</head>

<body>
    <div id="map"></div>
    <script type="text/javascript">
        L.Control.MousePosition = L.Control.extend({
            options: {
                position: 'bottomleft',
                separator: ' : ',
                emptyString: 'Unavailable',
                lngFirst: false,
                numDigits: 5,
                lngFormatter: undefined,
                latFormatter: undefined,
                prefix: ""
            },

            onAdd: function (map) {
                this._container = L.DomUtil.create('div', 'leaflet-control-mouseposition');
                L.DomEvent.disableClickPropagation(this._container);
                map.on('mousemove', this._onMouseMove, this);
                this._container.innerHTML = this.options.emptyString;
                return this._container;
            },

            onRemove: function (map) {
                map.off('mousemove', this._onMouseMove)
            },

            _onMouseMove: function (e) {
                var lng = this.options.lngFormatter ? this.options.lngFormatter(e.latlng.lng) : L.Util
                    .formatNum(e.latlng.lng, this.options.numDigits);
                var lat = this.options.latFormatter ? this.options.latFormatter(e.latlng.lat) : L.Util
                    .formatNum(e.latlng.lat, this.options.numDigits);
                var value = this.options.lngFirst ? lng + this.options.separator + lat : lat + this.options
                    .separator + lng;
                var prefixAndValue = this.options.prefix + ' ' + value;
                this._container.innerHTML = prefixAndValue;
            }

        });

        L.Map.mergeOptions({
            positionControl: false
        });

        L.Map.addInitHook(function () {
            if (this.options.positionControl) {
                this.positionControl = new L.Control.MousePosition();
                this.addControl(this.positionControl);
            }
        });

        L.control.mousePosition = function (options) {
            return new L.Control.MousePosition(options);
        };
        var mapExtent = [67.45321700, 9.72893433, 138.58848723, 56.47119800];
        var mapMinZoom = 5;
        var mapMaxZoom = 8;
        var bounds = new L.LatLngBounds(
            new L.LatLng(mapExtent[1], mapExtent[0]),
            new L.LatLng(mapExtent[3], mapExtent[2]));
        var map = L.map('map', {
            maxBounds: bounds,
            renderer: L.canvas()
        }).fitBounds(bounds);
        //L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
        var layer;
        var options = {
            minZoom: mapMinZoom,
            maxZoom: mapMaxZoom,
            opacity: 1.0,
            attribution: 'Data from <a href="http://aischina.com/">中国民用航空局空中交通管理局航行情报中心</a>',
            tms: false
        };
        var url = "https://cafpc-efb.oss-cn-beijing.aliyuncs.com/" + "2008/ENR6/Fixed/"
        layer = L.tileLayer(url + '{z}/{x}/{y}.png', options).addTo(map);
    </script>
</body>

</html>
